<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정원사들 시즌10</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- GNB 영역 -->
    <header class="gnb">
        <h1>정원사들 시즌10</h1>
        <div class="header-buttons">
            <button id="refresh-btn" class="refresh-button hidden">출석부 갱신</button>
            <div id="auth-container">
                <!-- 로그인 상태에 따라 동적으로 변경됨 -->
                <button id="login-btn" class="login-button">GitHub 로그인</button>
                <div id="user-profile" class="user-profile hidden">
                    <img id="user-avatar" class="user-avatar" src="" alt="프로필 이미지">
                    <span id="user-name"></span>
                    <button id="logout-btn" class="logout-button">로그아웃</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main 영역 -->
    <main>
        <!-- 정원사들 - 참여자 목록 -->
        <section class="gardeners">
            <h2>정원사들</h2>
            <div class="gardeners-list" id="gardeners-list">
                <!-- GitHub 프로필 사진들이 여기에 동적으로 추가됨 -->
            </div>
        </section>

        <!-- 진행률 섹션 -->
        <section class="progress-section">
            <h2>진행 현황</h2>
            <div class="progress-info">
                <p id="progress-text">총 0일 중 0일 진행 (0%)</p>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%;"></div>
                </div>
            </div>
        </section>

        <!-- 오늘의 출석 현황 섹션 -->
        <section class="today-attendance-section">
            <h2>오늘의 출석 현황</h2>
            <p id="today-date"></p>
            <div class="gardeners-attendance" id="today-attendance">
                <!-- 오늘의 출석 현황이 여기에 동적으로 추가됨 -->
            </div>
        </section>

        <!-- 전체 출석부 섹션 -->
        <section class="attendance-table-section">
            <h2>전체 출석부</h2>
            <div class="attendance-summary">
                <div class="attendance-stats">
                    <div>
                        <h3>전체 출석률</h3>
                        <p id="overall-attendance-rate">0%</p>
                    </div>
                    <div>
                        <h3>총 출석</h3>
                        <p id="total-present">0</p>
                    </div>
                    <div>
                        <h3>총 미출석</h3>
                        <p id="total-absent">0</p>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table id="attendance-table">
                    <thead>
                        <tr id="dates-header">
                            <th>순위</th>
                            <th>사용자</th>
                            <th>출석률</th>
                            <!-- 날짜 헤더는 JavaScript로 동적 생성 -->
                        </tr>
                    </thead>
                    <tbody id="attendance-data">
                        <!-- 출석 데이터는 JavaScript로 동적 생성 -->
                    </tbody>
                    <tfoot>
                        <tr id="daily-rates">
                            <td colspan="3">일별 출석률</td>
                            <!-- 일별 출석률은 JavaScript로 동적 생성 -->
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="attendance-legend">
                <div class="legend-item">
                    <span class="legend-mark attended">🌱</span>
                    <span>출석</span>
                </div>
                <div class="legend-item">
                    <span class="legend-mark absent">❌</span>
                    <span>미출석</span>
                </div>
            </div>
        </section>

        <!-- 일별 출석률 그래프 섹션 -->
        <section class="attendance-chart-section">
            <h2>일별 출석률 그래프</h2>
            <div class="chart-container">
                <canvas id="daily-attendance-chart"></canvas>
            </div>
        </section>
        
        <!-- 요일별 출석률 그래프 섹션 -->
        <section class="attendance-chart-section">
            <h2>요일별 출석률 비교</h2>
            <div class="chart-container">
                <canvas id="weekday-attendance-chart"></canvas>
            </div>
        </section>

    </main>

    <!-- Chart.js 라이브러리 추가 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/main.js"></script>
</body>
</html>