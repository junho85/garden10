# 출석부 설계
정원사들 시즌10 모임 출석부 웹페이지 설계문서입니다.
정원사들 모임은 참여인원들이 매일매일 github 에 1회 이상 커밋 하는 모임입니다.
시작일은 2025년 3월 10일이고 100일 동안 진행됩니다.

## 사용 기술
1. 백엔드: Python FastAPI
2. DB: PostgreSQL
3. 프론트앤드: Python FasiAPI 에서 static file 로 구현

## Database
1. users - 유저, github 계정 기록 테이블.
    * github_id, github_api_token
2. github_commits - 날짜, 유저별 커밋 내역을 기록하는 테이블
    * username, commit_hash, commit_message, commit_date, repo_name, commit_url, created_at

## API
1. 특정 날짜의 유저별 커밋내역을 확인하고 DB에 저장합니다.
2. 특정 날짜의 출석여부를 DB에서 조회합니다. 1회 이상 커밋을 한 경우 출석으로 인정합니다.

## 배치
1. 1시간 마다 출석확인 배치를 실행합니다.
    1. 오후 10시 배치에서는 출석확인 배치 완료 후 미출석 회원 리스트 아이디를 모아서 출석 독려 메시지를 만들어서 카카오톡 나에게 보내기 API를 이용해서 관리자에게 메시지를 보냅니다.

## UI
1. GNB 영역
    1. 타이틀: 정원사들 시즌10
    2. 출석부 갱신 버튼 (이 버튼을 누르면 작업이 끝날 때 까지 다시 실행할 수 없도록 제한)
2. Main 영역
    1. 정원사들 - 참여자 목록을 github 프로필 사진으로 나열합니다.
    2. 진행률
        1. 텍스트: e.g. 진행률 100% (총 100일 중 100일 완료)
        2. 프로그래스바로 진행률 표시
    3. 출석/미출석
        1. 오늘까지 총 출석수/미출석수 표시
        2. 전체 출석률: x%
    4. 오늘의 출석부
        1. 텍스트: 1시간 마다 갱신 됩니다.
        2. 참여자들 github id 와 출석여부에 따라 이모지로 표시. 테이블로 표시하고 한줄에 10명씩
    5. 출석부
        1. 테이블로 표시
        2. No, user, 출석률, 순위, 날짜(시작일~종료일)
        3. 아래쪽에는 날짜별 출석률 표시
    6. 출석률 순위
    7. 출석률 그래프
    8. 요일별 출석률
    9. 시간별 출석수 - 커밋 개수 기준입니다. 여러번 커밋 하면 여러분 카운트됩니다.
